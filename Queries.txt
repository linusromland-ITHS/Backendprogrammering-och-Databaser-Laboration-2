** Create a new database (or connect to existing database)
use recipeDatabase;

** Creates a collection (recipes)
db.recipes.insertMany([{"name":"Socca","description":"Socca, a quick and easy gluten-free flatbread, can be served as everything from a crispy cracker for dips and spreads to a succulent crust for pizza.","time":45,"ingredients":[{"name":"Chickpea Flour","amount":1.5,"unit":"cups"},{"name":"olive oil, divided","amount":3,"unit":"tablespoons"},{"name":"Salt","amount":1,"unit":"teaspoon"},{"name":"water","amount":1,"unit":"cup"}],"steps":[{"description":" In a medium mixing bowl, combine the chickpea flour, 2 tablespoons of olive oil, salt, and water. Whisk thoroughly until a smooth batter is formed.If it is thicker than pancake batter, add more water one tablespoon at a time, until pancake batter consistency is reached. When you pull the whisk out of the batter, it should leave a thick ribbon."},{"description":"Let the batter rest for 30 minutes before cooking."},{"description":"Heat a large nonstick or well-seasoned cast iron pan over medium-high heat. Drizzle pan with 1/2 tablespoon of olive oil."},{"description":"Once hot, using a measuring cup or ladle pour half of the socca batter into the pan, while simultaneously turning the pan in a circular motion to help the batter spread evenly. Cook socca, until the top appears nearly set, about 2 minutes. Similar to pancakes, any bubbles that appeared should have set. There will be a visible firming on top at the edges, but no char spots on top. Flip socca with a large metal spatula and continue to cook, about another minute. It should have some brown spots on both sides. Remove from the pan. Add the remaining 1/2 tablespoon of olive oil to the pan and cook the rest of the socca batter."},{"description":"Socca is ready to serve as soon as it comes out of the pan. Keep it whole and top with pizza toppings, slice into triangles and serve with dip, or cut in half and fill with sandwich fixings."}],"tags":["vegan","vegetarian","gluten-free","dairy-free","healthy"],"refrence":"https://www.simplyrecipes.com/socca-recipe-5186456"},{"name":"Spanakorizo","description":"A low carb twist on the Greek classic, using cauliflower rice.","time":75,"ingredients":[{"amount":"500","unit":"g","name":"cauliflower rice (frozen ok)"},{"amount":"2","unit":"oz","name":"butter"},{"name":"olive oil"},{"amount":"1","unit":"lbs","name":"chopped spinach (frozen ok)"},{"amount":"2","unit":"tsp","name":"concentrated chicken stock (e.g. Better than Bouillon)"},{"name":"yellow onion","preparation":"chopped/diced"},{"amount":"5","unit":"cloves","name":"garlic","preparation":"chopped"},{"amount":"2","name":"scallions","preparation":"chopped"},{"name":"feta","preparation":"chopped"},{"name":"nutritional yeast"},{"name":"salt"},{"amount":"0.5","name":"lemon","preparation":"juiced"},{"name":"Dill","preparation":"(optional)"}],"steps":[{"description":"In a large frying pan cook the cauliflower rice and the onion with butter and the concentrated chicken stock until the cauliflower rice starts drying a bit and the onion becomes translucent (if not using frozen cauliflower rice you may need to cook the onion before adding the cauliflower rice). Do not add butter to the pan first, you can just cook it all together."},{"description":"Move the mixture away from the center of the pan and pour some olive oil in the center. When it heats up, add the chopped garlic.."},{"description":"After the garlic becomes a little fragrant, mix it all together and add the spinach. Mix well and keep stirring until the spinach defrosts."},{"description":"Once the spinach defrosts, add the spring onion, the chopped feta, and the dill (if using), and sprinkle with a generous amount of nutritional yeast. Stir well and salt to taste."},{"description":"Add the lemon juice, give it a good stir and serve!"}],"tags":["vegetarian","gluten-free","low-carb"],"refrence":"https://github.com/LeaVerou/forkgasm/blob/master/recipes.json"},{"name":"Chicken Liver Pâté","description":"Rich and creamy, delicious on bread or even on its own","tags":["Chicken","Offal"],"time":35,"ingredients":[{"amount":"500","unit":"g","name":"raw chicken liver","preparation":"cleaned"},{"amount":"1","name":"large white onion"},{"amount":"2","unit":"cloves","name":"garlic","preparation":"minced"},{"amount":"150","unit":"ml","name":"Metaxa or other brandy/cognac"},{"amount":"50","unit":"ml","name":"heavy cream"},{"name":"Butter","amount":"50","unit":"g"},{"name":"Salt, pepper","preparation":"to taste"},{"name":"Parsley"},{"name":"balsamic reduction"}],"steps":[{"description":"Chop most of the onion but set a little aside for garnish"},{"description":"Sauté garlic and onion in a bit of butter."},{"description":"Add the livers and sauté on both sides until they have a bit color but are still pink inside. Season with salt and pepper."},{"description":"Add the Metaxa and let it steam away."},{"description":"Put all in a tall blender glass and add the cream and remaining butter and blend until smooth"},{"description":"Put aside in fridge for at least 4 hours and serve, garnishing with the balsamic reduction, parsley and the onion from step 1."}],"refrence":"https://github.com/LeaVerou/forkgasm/blob/master/recipes.json"}])

**Inserts one recipe into the collection
db.recipes.insertOne({"name":"Spinach Tofu Scramble","description":"This quick and nourishing Spinach Tofu Scramble suits any meal, not just breakfast. It calls for spinach, but add any veggies and power up with plant-based protein!","time":15,"ingredients":[{"name":"Extra Vigin Olive Oil","amount":1,"unit":"table spoon"},{"name":"Yellow Onion (diced)","amount":0.5,"unit":"cup"},{"name":"Firm Tofu","amount":1,"unit":"pound"},{"name":"Nutritional Yeast","amount":1,"unit":"teaspoon"},{"name":"Kosher Salt","amount":0.5,"unit":"teaspoon"},{"name":"Ground Black Pepper","amount":0.25,"unit":"teaspoon"},{"name":"Ground Tumeric","amount":0.25,"unit":"teaspoon"},{"name":"Spinach Leaves","amount":4,"unit":"cups"},{"name":"Lemon Juice","amount":0.25,"unit":"teaspoon"}],"steps":[{"description":"Heat a medium skillet over medium-high heat. Add oil; when it ripples, add the onion. Cook, stirring occasionally, until the onion is soft, 3 to 5 minutes."},{"description":"Use your fingers to crumble the drained tofu into bite-sized pieces. You can do this directly over the skillet. Add the nutritional yeast, salt, pepper, and turmeric, and stir to combine. Cook, stirring occasionally, until the tofu is hot, about 3 minutes. Youre not aiming to brown the tofu here, but if that happens a little, its not an issue. "},{"description":"Add the spinach and cook until wilted, 1 minute. Sprinkle the lemon juice over the scramble. Taste and adjust the seasoning with salt and pepper, if needed. Leftover tofu scramble will keep in a tightly covered container up to four days. I don’t recommend freezing it."}],"tags":["vegan","vegetarian","gluten-free","dairy-free","low-carb","low-fat","quick-and-easy","healthy","low-sodium"],"refrence":"https://www.simplyrecipes.com/spinach-tofu-scramble-recipe-5215978"})

** Retrieves all recipes in collection
db.recipes.find()

** Updates the title on one of the recipes in the collection. (Should not use name to find which document to update but don't know the UUID so this will work)
db.recipes.updateOne({name: "Socca" }, { $set: {name: "Delete Later"} })

** Deletes the title on one of the recipes in the collection (should not use name to find which document to delete, should use the UUID')
db.recipes.deleteOne({name: "Delete Later"})

** Finds all vegan recipes in collection
db.recipes.find({"tags": {"$in": ["vegan"]}})

** Counts how many recipes in the collection
** Using countDocuments() instead of count() since count is deprecated
db.recipes.countDocuments();

** Counts how many gluten-free recipes in the collection
db.recipes.countDocuments({"tags": {"$in": ["gluten-free"]}});

** Adds favorite key:value to all recipes in the collection
db.recipes.updateMany({ },{ $set: { favorite:false } })

**Sets "Spinach Tofu Scramble" as a favorite
db.recipes.updateOne({name: "Spinach Tofu Scramble" }, { $set: {favorite: true} })

** Finds all favorite recipes in collection
db.recipes.find({"favorite": true})

** Counts how many favorite recipes in the collection
db.recipes.countDocuments({"favorite": true});
